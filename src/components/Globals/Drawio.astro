---
import BaseContainer from './BaseContainer.astro';

let html: string =  ""

if (Astro.slots.has("default")) {
  html = await Astro.slots.render("default")
}

/*
Some relevant documentation about drawio and URL parameters
- [Supported URL parameters](https://www.drawio.com/doc/faq/supported-url-parameters)
*/


const {
  file,
  page = "1",
} = Astro.props;

const file_url = `https://raw.githubusercontent.com/harleylara/robotics/master/src/resources/${file}`

const src = `https://viewer.diagrams.net/?dark=1&edit=_blank&tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&page=${page}&title=${file}#U${file_url}`;

---

<BaseContainer>
  <div id="figure" class="flex flex-col items-center w-full">
    <iframe style="width:100%;height:380px;" src={src}></iframe>
    <em set:html={html} class="pb-4 px-4"></em>
  </div>
</BaseContainer>
