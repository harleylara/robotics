---
import { markToHtml } from '../../tools/helper.parser';
import BaseContainer from './BaseContainer.astro';

/*
Some relevant documentation about drawio and URL parameters
- [Supported URL parameters](https://www.drawio.com/doc/faq/supported-url-parameters)
*/


const {
  file,
  page = "1",
  description = "Please **insert** the description of this diagram"
} = Astro.props;

const file_url = `https://raw.githubusercontent.com/harleylara/robotics/master/src/resources/${file}`

const src = `https://viewer.diagrams.net/?dark=1&edit=_blank&tags=%7B%7D&highlight=0000ff&edit=_blank&layers=1&nav=1&page=${page}&title=test.drawio#U${file_url}`;
---

<BaseContainer>
  <div id="figure" class="flex flex-col items-center w-full">
    <iframe style="width:100%;height:380px;" src={src}></iframe>
    <em set:html={markToHtml(description)} class="py-4 px-4"></em>
  </div>
</BaseContainer>
