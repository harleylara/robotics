---
title: "Executable and Linking Format"
description: Exploring the ELF
---

```python filename="hello.c" remoteURL="https://raw.githubusercontent.com/harleylara/cpp-intro/refs/heads/master/elf/hello.c"
```

```plain
$ readelf -h hello

ELF Header:
  Magic:   7f 45 4c 46 02 01 01 00 00 00 00 00 00 00 00 00
  Class:                             ELF64
  Data:                              2's complement, little endian
  Version:                           1 (current)
  OS/ABI:                            UNIX - System V
  ABI Version:                       0
  Type:                              DYN (Position-Independent Executable file)
  Machine:                           Advanced Micro Devices X86-64
  Version:                           0x1
  Entry point address:               0x1060
  Start of program headers:          64 (bytes into file)
  Start of section headers:          13976 (bytes into file)
  Flags:                             0x0
  Size of this header:               64 (bytes)
  Size of program headers:           56 (bytes)
  Number of program headers:         13
  Size of section headers:           64 (bytes)
  Number of section headers:         31
  Section header string table index: 30
```

<Drawio
    file="elf.drawio"
    page="1"
    description="Object File Format, source: Figure 1.1 Specification."
/>

## Structure

- **ELF Header**: contains essential metadata about the program.
- **Code segment** (`.text`): the compiled machine instructions generated from your C code
- **Data Segment**
    - `.data`: global variables
    - `.rodata`: constant values
    - `.bss`: uninitialized global variables
- **Symbol Table**: This table plays a critical role in linking.
- **Relocation Information**: This section comes into play when your program is loaded into memory. It contains instructions for the linker to adjust memory addresses within the code, ensuring that references to functions, variables, and data structures point to the correct locations.
- **Debugging Information**: If you compile your program with debugging symbols (using the -g flag with gcc), the executable file will also include debug information. This information allows debuggers like gdb to correlate machine instructions back to your original C code, making it possible to step through your program line by line and inspect variables during execution.

## External Resources

- [Tool Interface Standard (TIS), Executable and Linking Format (ELF) Specification](https://refspecs.linuxfoundation.org/elf/elf.pdf)
- [Under the Hood of Executables](https://mohitmishra786.github.io/underTheHoodOfExecutables/)
- [Shared Libraries: Understanding Dynamic Loading](https://amir.rachum.com/shared-libraries/)

Videos:
- [In-depth: ELF - The Extensible & Linkable Format](https://www.youtube.com/watch?v=nC1U1LJQL8o)
- [ELF File Format Explained](https://www.youtube.com/watch?v=9uWMr3wdadM)
